# ادغام‌ها و ابزارهای خارجی

## ادغام‌های اصلی

### 🔗 **Git Integration - ادغام با Git**

Git یکی از مهم‌ترین ادغام‌های Cursor است که فرآیند کار با version control را هوشمند می‌کند.

#### ویژگی‌های Git:

##### ۱. تولید پیام کامیت هوشمند
```bash
# روش سنتی:
git commit -m "fix bug"

# با Cursor AI:
git commit -m "fix: resolve user authentication timeout in login service

- Add proper error handling for expired JWT tokens
- Implement exponential backoff for failed login attempts  
- Update session management to handle concurrent logins
- Add comprehensive unit tests for edge cases
- Improve error messages for better user experience

Fixes: #123
Closes: #124"
```

##### ۲. حل تعارضات ادغام (Merge Conflicts)
```javascript
// تعارض در فایل:
<<<<<<< HEAD
const API_URL = 'https://api-v1.example.com';
const TIMEOUT = 5000;
=======
const API_URL = 'https://api-v2.example.com';  
const RETRY_COUNT = 3;
>>>>>>> feature-branch

// حل هوشمند توسط Agent:
const API_URL = process.env.NODE_ENV === 'production' 
  ? 'https://api-v2.example.com'
  : 'https://api-v1.example.com';
const TIMEOUT = 5000;
const RETRY_COUNT = 3;
```

##### ۳. بررسی تغییرات (Code Review)
- **تحلیل خودکار**: بررسی کیفیت کد در PR ها
- **پیشنهاد بهبود**: ارائه راهکارهای بهینه‌سازی
- **شناسایی مشکلات**: یافتن باگ‌ها و مشکلات امنیتی
- **چک استانداردها**: بررسی رعایت coding standards

#### میانبرهای Git در Cursor:
- `Ctrl+Shift+G`: باز کردن پنل Git
- `Ctrl+Enter`: کامیت سریع
- `Alt+G`: نمایش Git blame
- `Ctrl+Shift+P` > "Git": دسترسی به تمام دستورات Git

### 💬 **Slack Integration - ادغام با Slack**

#### قابلیت‌های Slack:

##### ۱. اعلان‌های پروژه
```text
📢 Build Status:
✅ Build #123 successful
🔍 Code coverage: 94%
⏱️ Build time: 2m 34s
📁 Branch: feature/user-auth
```

##### ۲. Code Review در Slack
```text
🔍 Code Review Request:
📁 File: src/auth/UserService.js
👤 Author: @developer
📝 Changes: Add JWT token validation
🔗 [View in Cursor]
```

##### ۳. Agent در Slack
```text
/cursor ask "کد authentication ما چطور کار می‌کند؟"

Agent: "سیستم احراز هویت شما از JWT tokens استفاده می‌کند..."
```

#### تنظیم ادغام Slack:
1. **نصب اپ**: Cursor App را در Slack workspace نصب کنید
2. **اتصال حساب**: حساب Cursor را به Slack متصل کنید
3. **تنظیم کانال‌ها**: کانال‌های مورد نظر برای اعلان‌ها
4. **پیکربندی webhook ها**: برای اعلان‌های خودکار

### 📋 **Linear Integration - ادغام با Linear**

Linear ابزار مدیریت پروژه است که با Cursor ادغام شده تا workflow توسعه را بهبود بخشد.

#### ویژگی‌های Linear:

##### ۱. مدیریت خودکار Issue ها
```text
// کامنت در کد:
// TODO: بهینه‌سازی این کوئری برای عملکرد بهتر

// Agent خودکار در Linear ایجاد می‌کند:
Issue: "بهینه‌سازی کوئری در UserService"
- Priority: Medium
- Estimate: 2 hours  
- Assignee: Current developer
- Labels: performance, backend
```

##### ۲. ردیابی پیشرفت
```text
Linear Issue: "پیاده‌سازی user authentication"

Agent progress:
✅ JWT token implementation
✅ Login endpoint
🔄 Password reset (in progress)
⏳ Email verification (pending)
```

##### ۳. تخمین زمان هوشمند
```javascript
// Agent تحلیل می‌کند:
function estimateTaskTime(task) {
  const complexity = analyzeComplexity(task);
  const dependencies = findDependencies(task);
  const historicalData = getHistoricalData(task.type);
  
  return calculateEstimate(complexity, dependencies, historicalData);
}
```

#### تنظیم Linear:
1. **اتصال API**: Linear API key را در Cursor تنظیم کنید
2. **انتخاب workspace**: Linear workspace مورد نظر
3. **تنظیم team**: انتخاب تیم و پروژه
4. **پیکربندی labels**: تعریف برچسب‌های خودکار

### 🐙 **GitHub Integration - ادغام با GitHub**

#### ویژگی‌های GitHub:

##### ۱. Pull Request Review
```markdown
## AI Code Review Report

### 🔍 کیفیت کد: 8.5/10

#### ✅ نکات مثبت:
- کد تمیز و خوانا
- تست‌های کامل
- مستندسازی مناسب

#### ⚠️ نکات بهبود:
- خط 45: استفاده از try-catch برای error handling
- خط 67: بهینه‌سازی loop برای عملکرد بهتر
- خط 89: اضافه کردن type annotation

#### 🚨 مشکلات امنیتی:
- خط 23: احتمال SQL injection
- خط 156: hardcoded API key (باید در .env باشد)
```

##### ۲. Issue Management
```text
GitHub Issue: "User login fails on mobile"

Agent Analysis:
🔍 Root Cause: Mobile viewport CSS conflict
🛠️ Solution: Update responsive design
⏱️ Estimate: 3 hours
🏷️ Labels: bug, frontend, mobile
👤 Suggested Assignee: @frontend-dev
```

##### ۳. Automated Workflows
```yaml
# .github/workflows/cursor-review.yml
name: Cursor AI Review
on: [pull_request]

jobs:
  ai-review:
    runs-on: ubuntu-latest
    steps:
      - uses: cursor-ai/review-action@v1
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          cursor-api-key: ${{ secrets.CURSOR_API_KEY }}
```

## ابزارهای تخصصی

### 📊 **Data Science Tools**

#### ۱. Jupyter Notebook Support
```python
# تحلیل داده‌های فروش
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# خواندن داده‌ها
sales_df = pd.read_csv('sales_data.csv')

# Agent می‌تواند:
# - کد تحلیل پیشنهاد دهد
# - نمودارهای مناسب بسازد  
# - insight ها را استخراج کند
# - گزارش خودکار تولید کند
```

#### ۲. Database Integration
```sql
-- اتصال به PostgreSQL
-- Agent می‌تواند:
SELECT 
    DATE_TRUNC('month', created_at) as month,
    COUNT(*) as new_users,
    AVG(age) as avg_age
FROM users 
WHERE created_at >= '2024-01-01'
GROUP BY month
ORDER BY month;

-- کوئری‌های پیچیده بسازد
-- عملکرد را بهینه کند
-- index های مناسب پیشنهاد دهد
```

#### ۳. Machine Learning Support
```python
# پیشنهاد pipeline های ML
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score

# Agent می‌تواند:
# - مدل مناسب پیشنهاد دهد
# - hyperparameter tuning انجام دهد
# - evaluation metrics محاسبه کند
# - کد deployment بنویسد
```

### 🌐 **Web Development Tools**

#### ۱. Framework-Specific Features

##### React Development:
```jsx
// Agent درک می‌کند:
// - Component lifecycle
// - State management patterns  
// - Performance optimizations
// - Testing strategies

const UserProfile = ({ userId }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  
  // Agent پیشنهاد می‌دهد:
  // - Error boundaries
  // - Loading states
  // - Memoization
  // - Accessibility features
};
```

##### Vue.js Support:
```vue
<template>
  <div class="user-dashboard">
    <!-- Agent می‌تواند: -->
    <!-- - Template syntax بهینه کند -->
    <!-- - Composition API پیشنهاد دهد -->
    <!-- - Performance optimizations اضافه کند -->
  </div>
</template>

<script setup>
// Modern Vue 3 patterns
// Reactivity best practices
// TypeScript integration
</script>
```

#### ۲. API Development
```javascript
// Express.js API
app.post('/api/users', async (req, res) => {
  // Agent اضافه می‌کند:
  // - Input validation
  // - Error handling  
  // - Security measures
  // - Documentation
  // - Rate limiting
  // - Logging
});
```

### 🛠️ **DevOps Integration**

#### ۱. Docker Support
```dockerfile
# Agent می‌تواند Dockerfile بهینه بسازد:
FROM node:18-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

FROM node:18-alpine AS runtime
# Multi-stage build optimization
# Security best practices
# Performance tuning
```

#### ۲. Kubernetes Configuration
```yaml
# Agent می‌تواند:
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-deployment
spec:
  # - Resource limits تنظیم کند
  # - Health checks اضافه کند
  # - Security policies پیاده کند
  # - Scaling strategies تعریف کند
```

#### ۳. CI/CD Pipeline
```yaml
# GitHub Actions / GitLab CI
# Agent می‌تواند:
name: Deploy Pipeline
on: [push]
jobs:
  # - Test automation
  # - Build optimization  
  # - Deployment strategies
  # - Rollback procedures
```

## API و SDK

### 🔌 **Cursor API**

#### استفاده از API:
```javascript
// اتصال به Cursor API
const cursor = new CursorAPI({
  apiKey: process.env.CURSOR_API_KEY,
  model: 'gpt-4o'
});

// درخواست تکمیل کد
const completion = await cursor.complete({
  code: 'function calculateTax(',
  language: 'javascript',
  context: fileContext
});
```

#### SDK های موجود:
- **JavaScript/TypeScript**: برای وب و Node.js
- **Python**: برای data science و backend
- **Go**: برای سیستم‌های high-performance
- **Rust**: برای سیستم‌های سطح پایین

### 🔧 **Plugin Development**

#### ایجاد پلاگین سفارشی:
```typescript
// cursor-plugin.ts
interface CursorPlugin {
  name: string;
  version: string;
  activate(context: ExtensionContext): void;
  deactivate(): void;
}

class MyCustomPlugin implements CursorPlugin {
  name = 'my-custom-plugin';
  version = '1.0.0';
  
  activate(context: ExtensionContext) {
    // منطق پلاگین
    const command = vscode.commands.registerCommand(
      'myPlugin.doSomething',
      this.handleCommand
    );
    
    context.subscriptions.push(command);
  }
  
  private handleCommand() {
    // عملیات سفارشی
  }
}
```

## ابزارهای تخصصی

### 🗄️ **Database Tools**

#### ۱. SQL Query Builder
```sql
-- درخواست: "کاربرانی که در ۳۰ روز گذشته خرید کرده‌اند"
-- Agent تولید می‌کند:

WITH recent_purchases AS (
  SELECT DISTINCT user_id
  FROM orders 
  WHERE created_at >= CURRENT_DATE - INTERVAL '30 days'
)
SELECT 
  u.id,
  u.name,
  u.email,
  COUNT(o.id) as purchase_count,
  SUM(o.total_amount) as total_spent
FROM users u
JOIN recent_purchases rp ON u.id = rp.user_id
JOIN orders o ON u.id = o.user_id
WHERE o.created_at >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY u.id, u.name, u.email
ORDER BY total_spent DESC;
```

#### ۲. Schema Design
```sql
-- Agent می‌تواند طراحی schema پیشنهاد دهد:
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  
  -- Indexes برای عملکرد بهتر
  INDEX idx_users_email (email),
  INDEX idx_users_created_at (created_at)
);

-- Triggers برای updated_at
CREATE TRIGGER update_users_updated_at
  BEFORE UPDATE ON users
  FOR EACH ROW
  EXECUTE FUNCTION update_updated_at_column();
```

#### ۳. Query Optimization
```sql
-- کوئری غیربهینه:
SELECT * FROM orders o, users u, products p 
WHERE o.user_id = u.id AND o.product_id = p.id;

-- بهینه‌سازی شده توسط Agent:
SELECT 
  o.id,
  o.quantity,
  o.total_amount,
  u.name as user_name,
  p.title as product_title
FROM orders o
INNER JOIN users u ON o.user_id = u.id
INNER JOIN products p ON o.product_id = p.id
WHERE o.created_at >= CURRENT_DATE - INTERVAL '1 year'
ORDER BY o.created_at DESC;
```

### 🧪 **Testing Tools**

#### ۱. Test Generation
```javascript
// کد اصلی:
class UserService {
  async createUser(userData) {
    const user = await User.create(userData);
    await this.sendWelcomeEmail(user.email);
    return user;
  }
}

// Agent تولید می‌کند:
describe('UserService', () => {
  let userService;
  let mockUserModel;
  let mockEmailService;
  
  beforeEach(() => {
    mockUserModel = {
      create: jest.fn()
    };
    mockEmailService = {
      sendWelcomeEmail: jest.fn()
    };
    userService = new UserService(mockUserModel, mockEmailService);
  });
  
  describe('createUser', () => {
    it('should create user and send welcome email', async () => {
      const userData = { name: 'John', email: 'john@example.com' };
      const createdUser = { id: 1, ...userData };
      
      mockUserModel.create.mockResolvedValue(createdUser);
      
      const result = await userService.createUser(userData);
      
      expect(mockUserModel.create).toHaveBeenCalledWith(userData);
      expect(mockEmailService.sendWelcomeEmail).toHaveBeenCalledWith(userData.email);
      expect(result).toEqual(createdUser);
    });
  });
});
```

#### ۲. E2E Test Generation
```javascript
// Playwright/Cypress tests
describe('User Registration Flow', () => {
  it('should register new user successfully', async () => {
    await page.goto('/register');
    await page.fill('[data-testid="email"]', 'test@example.com');
    await page.fill('[data-testid="password"]', 'SecurePass123!');
    await page.click('[data-testid="submit"]');
    
    await expect(page.locator('[data-testid="success-message"]'))
      .toBeVisible();
  });
});
```

### 🔍 **Code Analysis Tools**

#### ۱. Performance Analysis
```javascript
// Agent تحلیل عملکرد می‌کند:
function analyzePerformance(code) {
  return {
    timeComplexity: 'O(n²)',
    spaceComplexity: 'O(n)',
    bottlenecks: [
      'Nested loops in lines 45-52',
      'Synchronous file operations in line 78'
    ],
    suggestions: [
      'Use Map instead of nested loops',
      'Implement async file operations',
      'Add memoization for expensive calculations'
    ]
  };
}
```

#### ۲. Security Scan
```javascript
// شناسایی مشکلات امنیتی:
const securityIssues = {
  high: [
    'SQL injection vulnerability in line 34',
    'Hardcoded API key in line 12'
  ],
  medium: [
    'Missing input validation in line 56',
    'Weak password policy in line 78'
  ],
  low: [
    'Missing HTTPS enforcement',
    'Insufficient rate limiting'
  ]
};
```

## پیکربندی پیشرفته

### ⚙️ **Custom Configurations**

#### ۱. Workspace Settings
```json
{
  "cursor.ai": {
    "model": "gpt-4o",
    "temperature": 0.2,
    "maxTokens": 4000,
    "contextFiles": 10,
    "enableTabCompletion": true,
    "enableInlineEdit": true,
    "enableAgent": true
  },
  "cursor.rules": {
    "projectRules": ".cursor/rules",
    "userRules": "~/.cursor/global-rules",
    "enableMemories": true
  },
  "cursor.integrations": {
    "git": {
      "autoCommitMessage": true,
      "conflictResolution": true
    },
    "slack": {
      "notifications": true,
      "channel": "#dev-updates"
    }
  }
}
```

#### ۲. Language-Specific Settings
```json
{
  "cursor.languages": {
    "typescript": {
      "strictMode": true,
      "preferInterfaces": true,
      "autoImports": true
    },
    "python": {
      "formatter": "black",
      "linter": "pylint",
      "typeHints": true
    },
    "rust": {
      "edition": "2021",
      "clippy": true,
      "fmt": true
    }
  }
}
```

### 🔐 **Security & Privacy**

#### ۱. Data Protection
```json
{
  "privacy": {
    "localProcessing": true,
    "encryptData": true,
    "excludeFiles": [
      "*.env",
      "*.key", 
      "secrets/**/*",
      "credentials.json"
    ],
    "anonymizeCode": true
  }
}
```

#### ۲. Access Control
```json
{
  "security": {
    "allowedDomains": [
      "api.cursor.com",
      "openai.com"
    ],
    "blockSensitiveData": true,
    "auditLog": true,
    "sessionTimeout": 3600
  }
}
```

## نمونه‌های عملی

### 🚀 **پروژه کامل با Cursor**

#### ۱. ایجاد پروژه React
```text
Agent درخواست: "یک اپلیکیشن Todo با React و TypeScript بساز"

Agent اقدامات:
1. ساختار پروژه ایجاد می‌کند
2. package.json با dependencies مناسب
3. TypeScript configuration  
4. Component های اصلی
5. State management (Context API)
6. Styling (CSS modules)
7. Unit tests
8. E2E tests
9. Build configuration
10. Deployment scripts
```

#### ۲. API Backend با Node.js
```text
Agent درخواست: "یک REST API برای مدیریت کاربران بساز"

Agent تولید می‌کند:
- Express.js server setup
- Database models (Mongoose/Sequelize)  
- Authentication middleware
- CRUD endpoints
- Input validation
- Error handling
- API documentation (Swagger)
- Unit tests
- Integration tests
- Docker configuration
```

### 📱 **Mobile Development**

#### React Native Support:
```javascript
// Agent می‌تواند:
import React from 'react';
import { View, Text, StyleSheet } from 'react-native';

const UserProfile = ({ user }) => {
  return (
    <View style={styles.container}>
      {/* Platform-specific optimizations */}
      {/* Accessibility features */}
      {/* Performance optimizations */}
    </View>
  );
};

// Styles بهینه برای mobile
const styles = StyleSheet.create({
  container: {
    // Responsive design
    // Platform-specific styles
  }
});
```

## نکات عملی و بهینه‌سازی

### 💡 **Tips & Tricks**

#### ۱. بهترین شیوه‌های Context
```text
✅ مؤثر:
@src/components/UserProfile.tsx
@src/types/User.ts  
@src/hooks/useUser.ts
"UserProfile کامپوننت را بهینه کن"

❌ غیرمؤثر:
@src
"همه چیز را بهینه کن"
```

#### ۲. تنظیم Rules مؤثر
```markdown
# قوانین خوب:
- مشخص و قابل اجرا باشند
- با مثال همراه باشند
- به پروژه مرتبط باشند
- منظماً به‌روزرسانی شوند

# مثال:
## Error Handling
همیشه try-catch استفاده کن:
```javascript
try {
  const result = await apiCall();
  return result;
} catch (error) {
  logger.error('API call failed:', error);
  throw new CustomError('Operation failed');
}
```
```

#### ۳. مدیریت Memory
- Memory های مهم را نگه دارید
- اطلاعات قدیمی را پاک کنید
- Memory ها را دسته‌بندی کنید
- تعارضات را حل کنید

---

## خلاصه

ادغام‌های Cursor امکانات قدرتمندی برای:
- **بهبود workflow توسعه**
- **خودکارسازی کارهای تکراری**  
- **افزایش کیفیت کد**
- **تسریع فرآیند deployment**

فراهم می‌کنند. با استفاده مناسب از این ابزارها، می‌توانید بهره‌وری خود را به‌طور قابل توجهی افزایش دهید.

---
*این مستند راهنمای جامعی از ادغام‌ها و ابزارهای خارجی Cursor ارائه می‌دهد.*