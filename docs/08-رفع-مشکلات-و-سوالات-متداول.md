# رفع مشکلات و سوالات متداول

## مشکلات رایج و راه‌حل‌ها

### 🐛 **مشکلات نصب**

#### ۱. خطای دانلود
**مشکل**: عدم امکان دانلود فایل نصب

**راه‌حل‌ها:**
```bash
# بررسی اتصال اینترنت
ping cursor.com

# استفاده از VPN (در صورت فیلتر بودن)
# دانلود از mirror های مختلف
# استفاده از download manager
```

#### ۲. خطای نصب در Windows
**مشکل**: "Installation failed" یا "Access denied"

**راه‌حل‌ها:**
```powershell
# اجرا به عنوان Administrator
Right-click installer → "Run as administrator"

# غیرفعال کردن موقت آنتی‌ویروس
# بررسی فضای خالی دیسک (حداقل 2GB)
# حذف نسخه‌های قدیمی

# بررسی Windows version
winver
# Cursor نیاز به Windows 10 build 1903 یا بالاتر دارد
```

#### ۳. مشکل نصب در macOS
**مشکل**: "App can't be opened" یا security warning

**راه‌حل‌ها:**
```bash
# اجازه دسترسی به برنامه
System Preferences → Security & Privacy → General → "Open Anyway"

# یا از ترمینال:
sudo spctl --master-disable
# نصب cursor
sudo spctl --master-enable

# بررسی macOS version
sw_vers
# Cursor نیاز به macOS 10.15 یا بالاتر دارد
```

#### ۴. مشکل نصب در Linux
**مشکل**: وابستگی‌های مفقود

**راه‌حل‌ها:**
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install libgtk-3-0 libxss1 libasound2 libdrm2 libxcomposite1 libxrandr2

# CentOS/RHEL/Fedora
sudo yum install gtk3 libXScrnSaver alsa-lib
# یا
sudo dnf install gtk3 libXScrnSaver alsa-lib

# Arch Linux
sudo pacman -S gtk3 libxss alsa-lib

# اجرای فایل AppImage
chmod +x Cursor.AppImage
./Cursor.AppImage
```

### ⚡ **مشکلات عملکرد**

#### ۱. کندی در پیشنهادات
**علل احتمالی:**
- اتصال اینترنت ضعیف
- پروژه بسیار بزرگ
- context window زیاد
- مدل سنگین

**راه‌حل‌ها:**
```json
// تنظیمات بهینه‌سازی عملکرد
{
  "cursor.ai": {
    "model": "cursor-small",          // مدل سریع‌تر
    "maxContextFiles": 5,             // کاهش context
    "suggestionDelay": 500,           // افزایش تأخیر
    "enableLocalCache": true          // فعال‌سازی کش
  },
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true,
    "**/coverage": true
  }
}
```

#### ۲. مصرف بالای CPU/Memory
**راه‌حل‌ها:**
```bash
# بررسی مصرف منابع
top -p $(pgrep cursor)

# تنظیمات کاهش مصرف:
# 1. کاهش تعداد فایل‌های باز
# 2. غیرفعال کردن indexing برای پروژه‌های بزرگ
# 3. استفاده از مدل‌های کوچک‌تر
# 4. محدود کردن extension ها
```

#### ۳. مشکل اتصال به سرور
**راه‌حل‌ها:**
```bash
# بررسی اتصال
curl -I https://api.cursor.com/health

# تنظیم proxy (در صورت نیاز)
export https_proxy=http://proxy.company.com:8080
export http_proxy=http://proxy.company.com:8080

# بررسی firewall
sudo ufw status
# اجازه دسترسی به cursor
sudo ufw allow out 443
```

### 🔐 **مشکلات احراز هویت**

#### ۱. خطای ورود
**مشکل**: "Invalid credentials" یا "Login failed"

**راه‌حل‌ها:**
```text
1. بررسی صحت ایمیل و رمز عبور
2. Reset password از وب‌سایت
3. حذف کش برنامه:
   - Windows: %APPDATA%/Cursor
   - macOS: ~/Library/Application Support/Cursor
   - Linux: ~/.config/Cursor

4. بررسی caps lock
5. تماس با پشتیبانی
```

#### ۲. مشکل API Key
**مشکل**: "Invalid API key" یا "Quota exceeded"

**راه‌حل‌ها:**
```json
// بررسی تنظیمات API
{
  "openai": {
    "apiKey": "sk-...",           // بررسی صحت کلید
    "organization": "org-...",     // اختیاری
    "model": "gpt-4o"
  },
  "anthropic": {
    "apiKey": "sk-ant-...",
    "model": "claude-3-5-sonnet-20241022"
  }
}

// بررسی quota
curl -H "Authorization: Bearer YOUR_API_KEY" \
     https://api.openai.com/v1/usage
```

### 🤖 **مشکلات AI**

#### ۱. پیشنهادات نامرتبط
**علل:**
- context نامناسب
- rules نامشخص  
- کیفیت پایین کد موجود

**راه‌حل‌ها:**
```markdown
# بهبود Rules
## کدنویسی
- از TypeScript استفاده کن
- functional components برای React
- async/await برای عملیات ناهمزمان

## مثال‌ها
```javascript
// ✅ درست
const fetchUser = async (id) => {
  try {
    const response = await api.get(`/users/${id}`);
    return response.data;
  } catch (error) {
    throw new Error(`Failed to fetch user: ${error.message}`);
  }
};

// ❌ غلط  
function getUser(id, callback) {
  // کد قدیمی
}
```
```

#### ۲. کد نادرست یا ناقص
**راه‌حل‌ها:**
```text
1. Context بیشتر اضافه کنید:
   @src/types/User.ts
   @src/services/userService.ts
   @tests/user.test.ts

2. مثال‌های واضح‌تر ارائه دهید

3. Rules دقیق‌تر تعریف کنید

4. از مدل قوی‌تر استفاده کنید (gpt-4o)
```

#### ۳. Agent پاسخ نمی‌دهد
**راه‌حل‌ها:**
```bash
# بررسی وضعیت سرویس
curl https://status.cursor.com

# restart برنامه
# حذف کش
# بررسی API quota
# تماس با پشتیبانی
```

## سوالات متداول (FAQ)

### ❓ **سوالات عمومی**

#### Q: Cursor چه تفاوتی با VS Code دارد؟
**A:** Cursor بر پایه VS Code ساخته شده اما ویژگی‌های هوش مصنوعی پیشرفته‌ای دارد:
- تکمیل کد هوشمند با Tab
- Agent برای تغییرات پیچیده  
- ویرایش inline با Ctrl+K
- درک عمیق کدبیس
- Rules و Memories

#### Q: آیا Cursor رایگان است؟
**A:** Cursor دارای پلان رایگان محدود و پلان‌های پولی است:
```text
Free: محدودیت در تعداد requests
Pro ($20/ماه): استفاده نامحدود
Business ($40/ماه): ویژگی‌های تیمی
Enterprise: قیمت‌گذاری سفارشی
```

#### Q: آیا کد من امن است؟
**A:** Cursor اقدامات امنیتی جدی انجام می‌دهد:
- رمزنگاری TLS 1.3 برای انتقال
- عدم ذخیره کد در سرورها
- حالت private برای پروژه‌های حساس
- کنترل کامل بر داده‌های ارسالی

### ❓ **سوالات فنی**

#### Q: چگونه کیفیت پیشنهادات را بهبود دهم؟
**A:** 
```text
1. Rules دقیق تعریف کنید
2. Context مناسب انتخاب کنید
3. مثال‌های خوب ارائه دهید
4. کد موجود را تمیز نگه دارید
5. از مدل‌های قوی‌تر استفاده کنید
```

#### Q: چگونه از API key شخصی استفاده کنم؟
**A:**
```json
// Settings → Models → API Keys
{
  "openai": {
    "apiKey": "sk-your-key-here",
    "organization": "org-your-org"  // اختیاری
  }
}
```

#### Q: Agent چرا فایل‌های من را نمی‌بیند؟
**A:**
```text
بررسی کنید:
1. فایل‌ها در workspace باز باشند
2. در .gitignore exclude نشده باشند  
3. اندازه فایل کمتر از حد مجاز باشد
4. Context صحیح انتخاب شده باشد (@file:path)
```

### ❓ **سوالات پیشرفته**

#### Q: چگونه Cursor را برای تیم تنظیم کنم؟
**A:**
```json
// تنظیمات تیم
{
  "team": {
    "sharedRules": true,
    "centralizedBilling": true,
    "memberManagement": true,
    "usageAnalytics": true
  },
  "workspace": {
    "sharedSettings": ".cursor/team-settings.json",
    "enforcedRules": true,
    "auditLog": true
  }
}
```

#### Q: چگونه custom model اضافه کنم؟
**A:**
```json
// تنظیمات مدل سفارشی
{
  "customModels": {
    "myModel": {
      "endpoint": "https://api.mycompany.com/v1/chat",
      "apiKey": "your-custom-key",
      "headers": {
        "Custom-Header": "value"
      }
    }
  }
}
```

#### Q: چگونه offline استفاده کنم؟
**A:**
```text
محدودیت‌های offline:
- فقط مدل cursor-small
- بدون Agent
- بدون Chat
- فقط basic completion

تنظیمات:
Settings → AI → "Offline Mode" → Enable
```

## عیب‌یابی پیشرفته

### 🔧 **ابزارهای تشخیص**

#### ۱. Log Files
```bash
# مکان log files:
# Windows: %APPDATA%/Cursor/logs
# macOS: ~/Library/Logs/Cursor  
# Linux: ~/.config/Cursor/logs

# بررسی آخرین خطاها
tail -f ~/.config/Cursor/logs/main.log

# جستجو برای خطاهای خاص
grep -i "error" ~/.config/Cursor/logs/main.log
```

#### ۲. Developer Tools
```javascript
// باز کردن DevTools در Cursor
// Ctrl+Shift+I (Windows/Linux)
// Cmd+Option+I (macOS)

// بررسی console errors
console.log('Cursor Debug Info');

// بررسی network requests
// Network tab → filter by "cursor" or "api"
```

#### ۳. Performance Monitoring
```bash
# بررسی مصرف منابع
# Linux/macOS:
ps aux | grep cursor
htop -p $(pgrep cursor)

# Windows:
Get-Process -Name "Cursor*" | Format-Table -AutoSize
```

### 🔍 **تشخیص مشکلات خاص**

#### ۱. مشکل Context Loading
```text
علائم:
- Agent فایل‌ها را نمی‌بیند
- پیشنهادات نامرتبط
- خطای "No context available"

تشخیص:
1. بررسی .gitignore
2. چک کردن file permissions
3. بررسی workspace folder
4. تست با فایل ساده

راه‌حل:
- اضافه کردن explicit file references
- بررسی indexing status
- restart workspace
```

#### ۲. مشکل Model Loading
```text
علائم:
- "Model not available"
- "Failed to load model"
- پیشنهادات نمی‌آیند

تشخیص:
curl -H "Authorization: Bearer YOUR_KEY" \
     https://api.openai.com/v1/models

راه‌حل:
- بررسی API key validity
- تغییر مدل به cursor-small
- بررسی quota limits
- تست اتصال شبکه
```

#### ۳. مشکل Memory Usage
```bash
# مانیتورینگ memory
while true; do
  ps -o pid,ppid,cmd,%mem,%cpu -p $(pgrep cursor)
  sleep 5
done

# راه‌حل‌ها:
# 1. کاهش context window
# 2. حذف فایل‌های غیرضروری از workspace
# 3. restart برنامه
# 4. افزایش RAM سیستم
```

### 🛠️ **ابزارهای کمکی**

#### ۱. Health Check Script
```bash
#!/bin/bash
# cursor-health-check.sh

echo "🔍 بررسی سلامت Cursor..."

# بررسی process
if pgrep -x "cursor" > /dev/null; then
    echo "✅ Cursor در حال اجرا است"
else
    echo "❌ Cursor در حال اجرا نیست"
    exit 1
fi

# بررسی اتصال اینترنت
if curl -s --head https://api.cursor.com > /dev/null; then
    echo "✅ اتصال به سرور برقرار است"
else
    echo "❌ مشکل در اتصال به سرور"
fi

# بررسی فضای دیسک
DISK_USAGE=$(df -h . | awk 'NR==2 {print $5}' | sed 's/%//')
if [ $DISK_USAGE -lt 90 ]; then
    echo "✅ فضای دیسک کافی است ($DISK_USAGE%)"
else
    echo "⚠️ فضای دیسک کم است ($DISK_USAGE%)"
fi

# بررسی log files
if [ -f ~/.config/Cursor/logs/main.log ]; then
    ERROR_COUNT=$(grep -c "ERROR" ~/.config/Cursor/logs/main.log)
    echo "📊 تعداد خطاهای امروز: $ERROR_COUNT"
else
    echo "⚠️ فایل log یافت نشد"
fi

echo "✅ بررسی سلامت کامل شد"
```

#### ۲. Configuration Validator
```javascript
// validate-cursor-config.js
const fs = require('fs');
const path = require('path');

function validateCursorConfig() {
  console.log('🔍 بررسی تنظیمات Cursor...');
  
  // مسیرهای مختلف config
  const configPaths = [
    '.cursor/settings.json',
    '.vscode/settings.json',
    path.join(os.homedir(), '.cursor', 'settings.json')
  ];
  
  for (const configPath of configPaths) {
    if (fs.existsSync(configPath)) {
      try {
        const config = JSON.parse(fs.readFileSync(configPath, 'utf8'));
        console.log(`✅ ${configPath} معتبر است`);
        
        // بررسی تنظیمات مهم
        if (config['cursor.ai']) {
          console.log('🤖 تنظیمات AI یافت شد');
        }
        
        if (config['cursor.rules']) {
          console.log('📋 تنظیمات Rules یافت شد');
        }
        
      } catch (error) {
        console.log(`❌ ${configPath} نامعتبر: ${error.message}`);
      }
    }
  }
}

validateCursorConfig();
```

## بهینه‌سازی عملکرد

### ⚡ **تنظیمات بهینه**

#### ۱. برای سیستم‌های ضعیف
```json
{
  "cursor.ai": {
    "model": "cursor-small",
    "maxContextFiles": 3,
    "suggestionDelay": 1000,
    "enableLocalCache": true,
    "lowPowerMode": true
  },
  "editor": {
    "minimap.enabled": false,
    "editor.wordWrap": "off",
    "editor.renderWhitespace": "none"
  }
}
```

#### ۲. برای پروژه‌های بزرگ
```json
{
  "cursor.indexing": {
    "strategy": "selective",
    "maxFileSize": "1MB",
    "excludePatterns": [
      "node_modules/**",
      "dist/**", 
      "coverage/**",
      "*.log"
    ],
    "batchSize": 20
  }
}
```

#### ۳. برای اتصال کند
```json
{
  "cursor.network": {
    "timeout": 30000,
    "retries": 5,
    "compression": true,
    "keepAlive": true
  }
}
```

### 🎯 **بهترین شیوه‌ها**

#### ۱. مدیریت Context
```text
✅ انجام دهید:
- فقط فایل‌های مرتبط را include کنید
- از @file: برای فایل‌های خاص استفاده کنید
- context را به‌روز نگه دارید
- فایل‌های test را شامل کنید

❌ انجام ندهید:
- کل پروژه را context قرار ندهید
- فایل‌های binary شامل نکنید
- فایل‌های log include نکنید
```

#### ۲. Rules مؤثر
```markdown
# قوانین خوب:
## مشخص و قابل اجرا
- "از TypeScript استفاده کن" ✅
- "کد خوب بنویس" ❌

## با مثال
```typescript
// ✅ درست - با type annotation
interface User {
  id: string;
  name: string;
  email: string;
}

// ❌ غلط - بدون type
const user = { id: 1, name: "John" };
```

## به‌روزرسانی و نگهداری

### 🔄 **به‌روزرسانی خودکار**
```json
{
  "updates": {
    "autoCheck": true,
    "autoDownload": true,
    "autoInstall": false,  // manual approval
    "channel": "stable"    // stable, beta, alpha
  }
}
```

### 🧹 **نگهداری منظم**
```bash
#!/bin/bash
# cursor-maintenance.sh

echo "🧹 شروع نگهداری Cursor..."

# حذف کش قدیمی
find ~/.config/Cursor/cache -type f -mtime +7 -delete

# حذف log های قدیمی  
find ~/.config/Cursor/logs -name "*.log" -mtime +30 -delete

# فشرده‌سازی کش
cursor --compress-cache

# بهینه‌سازی database
cursor --optimize-db

echo "✅ نگهداری کامل شد"
```

## دریافت پشتیبانی

### 📞 **راه‌های تماس**

#### ۱. پشتیبانی رسمی
- **ایمیل**: support@cursor.com
- **انجمن**: [forum.cursor.com](https://forum.cursor.com)
- **Discord**: سرور رسمی Cursor
- **GitHub**: Issues در repository

#### ۲. منابع کمکی
- **مستندات**: [docs.cursor.com](https://docs.cursor.com)
- **ویدیوهای آموزشی**: کانال YouTube
- **وبلاگ**: آخرین اخبار و آموزش‌ها
- **Status Page**: وضعیت سرویس‌ها

#### ۳. جامعه کاربران
- **Reddit**: r/cursor
- **Stack Overflow**: تگ cursor-ai
- **Twitter**: @cursor_ai
- **LinkedIn**: Cursor AI Company Page

### 📋 **اطلاعات مورد نیاز برای پشتیبانی**

هنگام تماس با پشتیبانی، این اطلاعات را آماده داشته باشید:

```text
1. نسخه Cursor: Help → About
2. سیستم‌عامل و نسخه آن
3. شرح دقیق مشکل
4. مراحل بازتولید مشکل
5. Log files مرتبط
6. Screenshot یا video (در صورت امکان)
7. تنظیمات خاص (در صورت وجود)
```

### 🐛 **گزارش باگ**

#### Template گزارش باگ:
```markdown
## شرح مشکل
توضیح واضح و مختصر مشکل

## مراحل بازتولید
1. برو به '...'
2. کلیک روی '....'
3. اسکرول پایین به '....'
4. مشکل رخ می‌دهد

## رفتار مورد انتظار
توضیح آنچه انتظار داشتید اتفاق بیفتد

## رفتار واقعی
توضیح آنچه واقعاً اتفاق افتاد

## Screenshots
در صورت امکان، screenshot اضافه کنید

## محیط:
- OS: [e.g. Windows 11, macOS 13, Ubuntu 22.04]
- Cursor Version: [e.g. 1.2.3]
- Model: [e.g. gpt-4o, claude-3.5]

## اطلاعات اضافی
هر اطلاعات مفید دیگری
```

---

## نکات پایانی

### 💡 **توصیه‌های کلی**

1. **صبور باشید**: AI گاهی زمان نیاز دارد
2. **واضح باشید**: درخواست‌های مشخص نتایج بهتری دارند
3. **تجربه کنید**: از ویژگی‌های مختلف استفاده کنید
4. **یاد بگیرید**: Rules و Memories را بهبود دهید
5. **به‌روز باشید**: آخرین نسخه‌ها را نصب کنید

### 🚀 **پیشرفت مداوم**

```text
برای تبدیل شدن به کاربر ماهر Cursor:
1. روزانه از ویژگی‌های مختلف استفاده کنید
2. Rules خود را مرتب بهبود دهید  
3. با جامعه کاربران در ارتباط باشید
4. آموزش‌های جدید را دنبال کنید
5. تجربیات خود را به اشتراک بگذارید
```

---

## منابع اضافی

### 📚 **آموزش‌های تکمیلی**
- [Cursor Academy](https://academy.cursor.com) - دوره‌های رسمی
- [YouTube Tutorials](https://youtube.com/cursor) - ویدیوهای آموزشی
- [Community Guides](https://community.cursor.com) - راهنماهای کاربران

### 🛠️ **ابزارهای کمکی**
- [Cursor CLI](https://github.com/cursor/cli) - ابزار خط فرمان
- [VS Code Extensions](https://marketplace.visualstudio.com) - افزونه‌های سازگار
- [Configuration Generator](https://config.cursor.com) - تولید تنظیمات

---

*این راهنما پاسخ‌گوی اکثر مشکلات و سوالات رایج کاربران Cursor است. برای مشکلات خاص، با پشتیبانی تماس بگیرید.*